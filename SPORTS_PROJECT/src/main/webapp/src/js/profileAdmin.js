let userData = [
		{no : 1 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 2 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 3 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 4 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 5 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 6 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 7 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 8 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 9 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 10 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 11 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 12 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 13 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 14 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 15 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 16 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 17 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 18 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 19 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 20 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 21 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 22 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 23 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 24 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 25 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 26 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 27 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 28 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 29 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 30 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 31 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 32 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 33 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 34 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 35 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 36 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 37 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 38 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 39 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 40 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
		{no : 41 , id : "test_id1", email : "test_email@email.com", role : "A", number:"010-1111-2222"},
]

let reportData = [
	{no : 1 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 2 , id : "test_id1", rep_type : "게시글",  vio_type: "허위사실", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 3 , id : "test_id1", rep_type : "뉴스",  vio_type: "허위사실", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 4 , id : "test_id1", rep_type : "댓글",  vio_type: "사행성조장", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 5 , id : "test_id1", rep_type : "댓글",  vio_type: "혐오발언", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 6 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 7 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 8 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 9 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 10 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 11 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 12 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 13 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 14 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 15 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 16 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 17 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 18 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 19 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 20 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 21 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 22 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 23 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 24 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 25 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 26 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 27 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 28 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 29 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 30 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 31 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 32 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 33 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 34 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 35 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 36 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
	{no : 37 , id : "test_id1", rep_type : "댓글",  vio_type: "욕설", rep_content:"심한 인신공격, 나쁜 욕"},
]

$(document).ready(function () {
	contextPath = "/" + window.location.pathname.split("/")[1];
	
	// 페이지네이션 실행
	paginationActive("user", userData, adminTemplate);
	paginationActive("report", reportData, adminTemplate);

});

// 관리자용 페이지네이션 템플릿 함수 (User)
function adminTemplate(data, id) {
	let item = ""
	if (id == "user"){
		item += `
			<table class="manage-table">
				<thead>
					<tr> 
						<td>No</td> 
						<td>아이디</td> 
						<td>Email</td> 
						<td>Role</td> 
						<td>Number</td> 
						<td>상세</td> 
					</tr>
				</thead>
				<tbody>`
		$.each(data, function(index, d){
	  	item += 
	  		`<tr>
				<td>${d.no}</td> 
				<td>${d.id}</td> 
				<td>${d.email}</td> 
				<td>${d.role}</td> 
				<td>${d.number}</td> 
				<td data-num=${d.no}><img class="edit" src="/SPORTS_PROJECT/public/icons/edit.png"></td> 
			</tr>`
		})
		item += `</tbody>
	             </table>`
	} 
	// 관리자용 페이지네이션 템플릿 함수 (Report)
	else {
		item += `
			<table class="manage-table">
				<thead>
					<tr> 
						<td>No</td> 
						<td>아이디</td> 
						<td>신고 유형</td> 
						<td>위반 유형</td> 
						<td>신고 내용</td> 
						<td>상세</td> 
					</tr>
				</thead>
				<tbody>
				`;
		$.each(data, function(index, d){
	  	item += 
	  		`<tr> 
				<td>${d.no}</td> 
				<td>${d.id}</td> 
				<td>${d.rep_type}</td> 
				<td>${d.vio_type}</td> 
				<td>${d.rep_content}</td> 
				<td data-num=${d.no}><img class="edit" src="/SPORTS_PROJECT/public/icons/edit.png"></td> 
			</tr>`
		})
		item += `</tbody>
	             </table>`
	}

    return item;
}

// 페이지네이션 실행 함수
function paginationActive(id, datas, template){
	
	// 한 페이지당 개수 정하기
	let page_size = 20;
	
	// 각 조건에 맞게 페이지네이션 실행
	if ( $(`#${id}-pagination`).length > 0 ){

		 $(`#${id}-pagination`).pagination({
		    dataSource: datas,
		 	
		    pageSize: page_size,
		    
		    callback: function(data, pagination) {
		        var html = template(data,id);
		        
		        $(`#${id}-data`).html(html);	// 데이터 페이지네이션
		        
		        // 체크박스 전체선택 함수
		        allChecks();
		
				var currentPage = pagination.pageNumber;	// 현재 페이지 번호
				
				// 페이지네이션 변경
				var pagingEl = $(`.paginationjs-page[data-num='${currentPage}'] a`);
				pagingEl.css({
					fontSize : "14px",
					textDecoration : "underline"
				})
			}
		})
	}
	
	// 조건에 맞는 edit 수행
	if (id == "user"){
		$(".edit").on("click", function(){
			console.log("유저 상세 정보 모달 show()")
		})
	} else if (id == "report"){
		$(".edit").on("click", function(){
			console.log("신고 상세 정보 모달 show()")
		})
	}
}



// 모달의 팝업 함수
function showModal(el){
	// TODO : 각 MODAL 타입에 맞는 MODAL 내용 변경 후 SHOW 하기
	let modalEl = $('#commonModal');
	let modalType = $(el).data("type");
	$("[name='modalType']").val(modalType);
	
	
	let value = $(el).text();
	let data = value.substring(0, value.length - 2).trim()
	
	// 정보제공동의 일 경우 모달
	if (modalType == "emailAgree" ||
		modalType == "phoneAgree" ||
		modalType == "snsAgree"){
			
		let checkboxInput = $(`input[name='${modalType}']`)
		let checkboxLabel = $(`label[for='${modalType}']`)
		
        let name = checkboxInput.prop("name")	// [sns, phone, email] Agree 
      	let value = checkboxInput.prop("checked") 	// [ ON, OFF ]

		
		switch(modalType){
			// 정보 제공 종의 수정
			case "emailAgree" : {
				modalEl.find(".modal-title").html("정말로 이메일 정보 제공에 동의하시겠습니까?")
				modalEl.find(".modal-body").html("모달 내용임둥")
				
			} break;
	
			case "phoneAgree" : {
				modalEl.find(".modal-title").html("정말로 번호 정보 제공에 동의하시겠습니까?요")
				modalEl.find(".modal-body").html("모달 내용임둥")
				
			} break;
			
			case "snsAgree" : {
				modalEl.find(".modal-title").html("정말로 SNS 주소 정보 제공에 동의하시겠습니까?")
				modalEl.find(".modal-body").html("모달 내용임둥")
				
			} break;
			
			
			default  : {
				modalEl.find(".modal-title").html("잘못된 모달")
				modalEl.find(".modal-body").html("잘못된 모달")
			}
		}

		if (value){
			modalEl.modal('show');		
		}else{
			checkboxLabel.html("OFF")
		}
	} 
	
	// 정보수정 일 경우 모달
	else{
		switch(modalType){
			// 수정을 위한 비밀번호 재확인
			case "pwChk" : {
				modalEl.find(".modal-title").html("비밀번호 재확인")
				modalEl.find(".modal-body").html(`
					<p> 현재 비밀번호를 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			// 정보 수정
			case "pw" : {
				modalEl.find(".modal-title").html("비밀번호 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 비밀번호를 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			case "email" : {
				modalEl.find(".modal-title").html("이메일 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 이메일을 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			case "number" : {
				modalEl.find(".modal-title").html("핸드폰 번호 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 번호를 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			case "sns" : {
				modalEl.find(".modal-title").html("SNS 주소 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 SNS 주소를 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			case "birthday" : {
				modalEl.find(".modal-title").html("생일 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 생일을 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
			
			case "address" : {
				modalEl.find(".modal-title").html("주소 변경")
				modalEl.find(".modal-body").html(`
					<p> 변경할 주소를 입력해주세요 </p>
					<input type="text" name="${modalType}" value="${data}">`
				);
			} break;
		}
		modalEl.modal('show');
	}
}

// 모달의 확인 클릭
function modalConfirm(){
	let typeReg = /(Agree)$/
	let modalType = $("[name='modalType']").val()
	
	// 정보 동의일 경우
	if (typeReg.test(modalType)){
		let input = $(`input[name="${modalType}"]`)
		let label = $(`[for="${modalType}"]`)
		input.prop("checked", true)
		label.html("ON")
		
		// TODO : 값을 백엔드로 전달
	}
	// 정보 수정일 경우
	else{
		// TODO : 값을 백엔드로 전달
		
	}
}

// 모달의 취소 클릭
function modalCancel(){
	let typeReg = /(Agree)$/
	let modalType = $("[name='modalType']").val();
	let checkboxInput = $(`input[name='${modalType}']`)
	let checkboxLabel = $(`label[for='${modalType}']`)
		
	
	// 정보 동의일 경우
	if (typeReg.test(modalType)){
		if(checkboxInput.prop("checked")){
			checkboxInput.prop("checked", false)
			checkboxLabel.html("OFF")
		}
		
		// TODO : 값을 백엔드로 전달
	}
	// 정보 수정일 경우
	else{
		// TODO : 값을 백엔드로 전달
	}

}