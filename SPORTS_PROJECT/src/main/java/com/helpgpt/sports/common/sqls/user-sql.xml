<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<comment>sql file for user</comment>
	<entry key="user-login">
		SELECT 
			I.USER_NO,
			I.TEAM_NO,
			I.USER_ID,
			I.USER_EMAIL ,
			I.USER_NAME,
			I.USER_PHONE,
			I.USER_SNS,
			I.USER_BD,
			I.USER_ADDRESS,
			I.USER_GENDER ,
			I.USER_NATION ,
		    I.USER_IMG_ORIGIN ,
		    I.USER_IMG_RENAME,
			I.USER_AUTHORITY ,
			I.USER_ST ,
			TO_CHAR(I.CREATE_DT, 'YYYY-MM-DD HH24:MM:SS') AS CREATE_DT,
		    TO_CHAR(I.DELETE_DT, 'YYYY-MM-DD HH24:MM:SS') AS DELETE_DT,
			P.AGREE_ADDRESS,
			P.AGREE_EMAIL,
			P.AGREE_PHONE
		FROM USER_INFO I
		JOIN USER_POLICY P ON (I.USER_NO = P.USER_NO)
		WHERE USER_ID = ?
		AND USER_PW = ?
	</entry>
	
	<entry key="userResign">
		UPDATE USER_INFO
		SET DELETE_DT = SYSDATE
		WHERE USER_NO = ?
	</entry>
	<entry key="cancelUserResign">
		UPDATE USER_INFO
		SET DELETE_DT = NULL
		WHERE USER_NO = ?
		AND DELETE_DT IS NOT NULL
	</entry>
	
	<entry key="update-sessionUUID">
		UPDATE USER_SESSION 
		SET SESSION_UUID = ?
		WHERE USER_NO = ?
	</entry>
	
	<entry key="getUserInfo-from-sessionUUID">
		SELECT USER_ID, USER_PW FROM USER_INFO U
		JOIN USER_SESSION S ON (U.USER_NO = S.USER_NO)
		WHERE S.SESSION_UUID = ?
	</entry>
</properties>
